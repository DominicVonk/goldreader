"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Timer = void 0;
const error_1 = require("../base/error");
class Timer {
    constructor() {
        this._timer = null;
        this._promise = null;
    }
    start(ms) {
        this._promise = new Promise((resolve, reject) => {
            this._timer = setTimeout(() => {
                this._promise = null;
                reject(new error_1.LLRPError("ERR_LLRP_READER_TIMEOUT"));
            }, ms);
        });
        return this._promise;
    }
    watch() {
        return this._promise;
    }
    cancel() {
        if (this._timer) {
            clearTimeout(this._timer);
            this._timer = null;
        }
        this._promise = null;
    }
}
exports.Timer = Timer;
//# sourceMappingURL=timer.js.map